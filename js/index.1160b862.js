"use strict";(self["webpackChunkvue_typescript_boilerplate"]=self["webpackChunkvue_typescript_boilerplate"]||[]).push([[826],{3299:function(t,e,s){s.d(e,{Z:function(){return p}});var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"nav"}},[e("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),e("router-link",{attrs:{to:"/about"}},[t._v("About")]),t._v(" | "),e("a",{attrs:{target:"_blank",href:"https://github.com/Vue-Boilerplates"}},[t._v("GitHub")]),t._v(" | "),e("a",{attrs:{target:"_blank",href:"https://github.com/Vue-Boilerplates/vue-typescript-boilerplate"}},[t._v("v1.0.0")])],1)},n=[],a=s(655),r=s(2195);let o=class extends r.w3{};o=(0,a.gn)([(0,r.wA)({name:"Navbar"})],o);var c=o,l=c,u=s(1001),h=(0,u.Z)(l,i,n,!1,null,null,null),p=h.exports},7625:function(t,e,s){s.r(e),s.d(e,{default:function(){return E}});var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"login-page d-grid"},[e("b-container",{staticClass:"login-container",attrs:{fluid:""}},[e("b-row",{staticClass:"h-100"},[e("b-col",{staticClass:"left-container",attrs:{order:t.isLogin?0:1}},[e("b-row",{staticClass:"h-100 left-container-inner",attrs:{"align-v":"center"}},[e("b-col",[e("b-row",{attrs:{"align-v":"center"}},[e("b-col",[e("h1",{staticClass:"login_title"},[t._v(" "+t._s(t.isLogin?"Sign in":"Register")+" ")])])],1),e("b-row",{attrs:{"no-gutters":"","align-v":"center"}},[e("b-col",[e("b-input",{staticClass:"login-input",attrs:{"aria-label":"Username",placeholder:"Username",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t.hasSpeech?e("b-col",{staticClass:"mic-icon",attrs:{title:t.isListen?"Click to stop using voice":"Enter using voice",cols:"auto"}},[e("mic-icon",{attrs:{stroke:t.micStroke},nativeOn:{click:function(e){return t.toggleListen.apply(null,arguments)}}})],1):t._e()],1),e("b-row",[e("b-col",[e("b-input",{staticClass:"login-input",attrs:{"aria-label":"password",placeholder:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),e("b-row",[e("b-col",[t.isLogin?t._e():e("b-input",{staticClass:"login-input",attrs:{"aria-label":"email",placeholder:"Email",type:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),e("b-row",{staticClass:"mt-4"},[e("b-col",[e("vue-recaptcha",{ref:"recaptcha",staticClass:"speech",attrs:{sitekey:"6LdkUL0fAAAAALOxpqSh_2Hu_jO1ZO_QzmaS2iS6"},on:{verify:t.verifyMethod,expired:t.expiredMethod}})],1)],1),e("b-row",[e("button",{staticClass:"login_btn mx-auto",on:{click:function(e){t.isLogin?t.login():t.register()}}},[t._v(" "+t._s(t.isLogin?"Sign in":"Register")+" ")])])],1)],1)],1),e("b-col",{staticClass:"right-container h-100",style:{borderRadius:t.isLogin?"0 26px 26px 0":"26px 0 0 26px"}},[e("b-row",{staticClass:"right-container-inner h-100",attrs:{"align-v":"center"}},[e("b-col",[e("b-row",[e("h1",{staticClass:"login_title"},[t._v(" "+t._s(t.isLogin?"Don't have an account?":"Already have an account?")+" ")])]),e("b-row",[e("p",{staticClass:"login_desc"},[t._v(" "+t._s(t.isLogin?"Register now!":"Login now!")+" ")])]),e("b-row",[e("button",{staticClass:"register_btn mx-auto",on:{click:t.toggleLoginSignup}},[t._v(" "+t._s(t.isLogin?"Sign up":"Log in")+" ")])])],1)],1)],1)],1),t.hasSpeech?e("SpeechRecognitionComponent",{attrs:{isListen:t.isListen},on:{result:t.onSpeechDetected}}):t._e()],1)],1)},n=[],a=s(8598),r=(s(7658),s(655)),o=s(538),c=s(2195),l=s(3299),u=s(8022);o["default"],o["default"].util.warn;function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},h.apply(this,arguments)}var p=function(){var t=!1,e=[],s=function(){if(!t){t=!0;for(var s=0,i=e.length;s<i;s++)e[s]()}},i=function(s){t?s():e.push(s)},n={resolved:function(){return t},resolve:s,promise:{then:i}};return n},d=Object.prototype.hasOwnProperty;function g(){var t=p();return{notify:function(){t.resolve()},wait:function(){return t.promise},render:function(t,e,s){this.wait().then((function(){s(window.grecaptcha.render(t,e))}))},reset:function(t){"undefined"!==typeof t&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.reset(t)})))},execute:function(t){"undefined"!==typeof t&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.execute(t)})))},checkRecaptchaLoad:function(){d.call(window,"grecaptcha")&&d.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!t.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var f=g();"undefined"!==typeof window&&(window.vueRecaptchaApiLoaded=f.notify);var v=(0,o.defineComponent)({name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!0},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},emits:["render","verify","expired","error"],setup:function(t,e){var s=e.slots,i=e.emit,n=(0,o.ref)(null),a=(0,o.ref)(null),r=function(t){i("verify",t)},c=function(){i("expired")},l=function(){i("error")};return(0,o.onMounted)((function(){if(f.checkRecaptchaLoad(),t.loadRecaptchaScript&&!document.getElementById(t.recaptchaScriptId)){var e=document.createElement("script");e.id=t.recaptchaScriptId,e.src="https://"+t.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+t.language,e.async=!0,e.defer=!0,document.head.appendChild(e)}var o=h({},t,{callback:r,"expired-callback":c,"error-callback":l}),u=n.value,p=s["default"]?u.children[0]:u;f.render(p,o,(function(t){a.value=t,i("render",t)}))})),{root:n,widgetId:a,reset:function(){f.reset(a.value)},execute:function(){f.execute(a.value)}}},render:function(){var t,e=this.$slots["default"];return t="function"===typeof e?e():e,(0,o.h)("div",{ref:"root"},t)}}),w=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div")},C=[];let b=class extends c.w3{constructor(...t){super(...t),(0,a.Z)(this,"isListen",void 0),(0,a.Z)(this,"recognition",void 0)}onListenChanged(){this.isListen?this.recognition&&this.recognition.start():this.recognition&&this.recognition.stop()}created(){const t=window.SpeechRecognition||window.webkitSpeechRecognition;if(!t)throw new Error("Speech Recognition does not exist on this browser. Use Chrome or Firefox");this.recognition=new t,this.recognition.interimResults=!0,this.recognition.lang="en-US",this.recognition.addEventListener("result",(t=>this.$emit("result",Array.from(t.results).map((t=>t[0])).map((t=>t.transcript)).join("")))),this.recognition.addEventListener("end",(t=>this.onListenChanged())),this.onListenChanged()}};(0,r.gn)([(0,c.fI)({default:!1})],b.prototype,"isListen",void 0),(0,r.gn)([(0,c.RL)("isListen")],b.prototype,"onListenChanged",null),b=(0,r.gn)([(0,c.wA)({name:"Navbar"})],b);var m=b,S=m,y=s(1001),L=(0,y.Z)(S,w,C,!1,null,null,null),_=L.exports,k=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("svg",{attrs:{viewBox:"0 0 28 44",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M1.625 17.875C1.98967 17.875 2.33941 18.0199 2.59727 18.2777C2.85513 18.5356 3 18.8853 3 19.25V22C3 24.9174 4.15892 27.7153 6.22182 29.7782C8.28472 31.8411 11.0826 33 14 33C16.9174 33 19.7153 31.8411 21.7782 29.7782C23.8411 27.7153 25 24.9174 25 22V19.25C25 18.8853 25.1449 18.5356 25.4027 18.2777C25.6606 18.0199 26.0103 17.875 26.375 17.875C26.7397 17.875 27.0894 18.0199 27.3473 18.2777C27.6051 18.5356 27.75 18.8853 27.75 19.25V22C27.75 25.4087 26.4839 28.6959 24.1973 31.2239C21.9107 33.7519 18.7666 35.3404 15.375 35.6813V41.25H23.625C23.9897 41.25 24.3394 41.3949 24.5973 41.6527C24.8551 41.9106 25 42.2603 25 42.625C25 42.9897 24.8551 43.3394 24.5973 43.5973C24.3394 43.8551 23.9897 44 23.625 44H4.375C4.01033 44 3.66059 43.8551 3.40273 43.5973C3.14487 43.3394 3 42.9897 3 42.625C3 42.2603 3.14487 41.9106 3.40273 41.6527C3.66059 41.3949 4.01033 41.25 4.375 41.25H12.625V35.6813C9.23338 35.3404 6.08928 33.7519 3.80267 31.2239C1.51606 28.6959 0.249957 25.4087 0.25 22V19.25C0.25 18.8853 0.394866 18.5356 0.652728 18.2777C0.910591 18.0199 1.26033 17.875 1.625 17.875Z",fill:t.stroke}}),e("path",{attrs:{d:"M19.5 22C19.5 23.4587 18.9205 24.8576 17.8891 25.8891C16.8576 26.9205 15.4587 27.5 14 27.5C12.5413 27.5 11.1424 26.9205 10.1109 25.8891C9.07946 24.8576 8.5 23.4587 8.5 22V8.25C8.5 6.79131 9.07946 5.39236 10.1109 4.36091C11.1424 3.32946 12.5413 2.75 14 2.75C15.4587 2.75 16.8576 3.32946 17.8891 4.36091C18.9205 5.39236 19.5 6.79131 19.5 8.25V22ZM14 0C11.812 0 9.71354 0.869194 8.16637 2.41637C6.61919 3.96354 5.75 6.06196 5.75 8.25V22C5.75 24.188 6.61919 26.2865 8.16637 27.8336C9.71354 29.3808 11.812 30.25 14 30.25C16.188 30.25 18.2865 29.3808 19.8336 27.8336C21.3808 26.2865 22.25 24.188 22.25 22V8.25C22.25 6.06196 21.3808 3.96354 19.8336 2.41637C18.2865 0.869194 16.188 0 14 0V0Z",fill:t.stroke}})])},x=[];let R=class extends c.w3{constructor(...t){super(...t),(0,a.Z)(this,"stroke",void 0)}};(0,r.gn)([(0,c.fI)({default:"black"})],R.prototype,"stroke",void 0),R=(0,r.gn)([(0,c.wA)({})],R);var Z=R,A=Z,V=(0,y.Z)(A,k,x,!1,null,null,null),P=V.exports;let j=class extends o["default"]{constructor(...t){super(...t),(0,a.Z)(this,"isLogin",!0),(0,a.Z)(this,"username",""),(0,a.Z)(this,"password",""),(0,a.Z)(this,"email",""),(0,a.Z)(this,"authStatus",""),(0,a.Z)(this,"authSuccess",!1),(0,a.Z)(this,"captchaStatus",!1),(0,a.Z)(this,"isListen",!1),(0,a.Z)(this,"micStroke","black")}get hasSpeech(){return window.SpeechRecognition}onAuthStatusChanged(){this.authStatus&&this.$toast.info(this.authStatus,{duration:5e3,message:this.authStatus,position:"top",type:this.authSuccess?"success":"error"})}onListenChanged(){this.isListen?this.micStroke="red":this.micStroke="black"}onSpeechDetected(t){this.username=t}expiredMethod(){console.log("Captcha expired"),this.captchaStatus=!1,this.$refs.recaptcha.reset()}verifyMethod(){console.log("Captcha verified"),this.captchaStatus=!0}created(){this.$cookies.get("jwtToken")&&this.$router.push("/dashboard")}toggleLoginSignup(){try{this.$refs.recaptcha.reset()}catch(t){console.error("Failed to reset recaptcha",t)}this.isLogin&&(this.authStatus=""),this.isListen=!1,this.isLogin=!this.isLogin}async login(){if(this.captchaStatus)try{const t=await(await(0,u.v_)("/login",{username:this.username,password:this.password})).json();this.$cookies.set("jwtToken",t.data.token,10800);const e=this.hasRedirect();console.log(e),this.$router.push(e&&"/"!==e?e:"/dashboard"),this.$toast.info("Logged in successfully",{duration:5e3,message:"Logged in successfully",position:"top",type:"success"})}catch(t){console.error(t),this.authStatus="Invalid Username/Password",this.authSuccess=!1}else this.authStatus="Please complete the captcha and try again",this.authSuccess=!1}hasRedirect(){return this.$route.query.redirect?.replaceAll("/?redirect=","")}toggleListen(){this.isListen=!this.isListen,console.log(this.isListen)}async register(){if(this.captchaStatus){const t=await(await(0,u.v_)("/register",{username:this.username,password:this.password,email:this.email})).json();console.log(t),t.error?(this.authStatus=t.error,this.authSuccess=!1):t.success&&(this.authStatus=t.success?"Successfully registered":"Registeration failed",this.authSuccess=!!t.success,this.toggleLoginSignup())}else this.authStatus="Please complete the captcha and try again",this.authSuccess=!1}mounted(){window.onkeydown=t=>{"Enter"===t.code&&(this.isLogin?this.login():this.register())}}};(0,r.gn)([(0,c.RL)("authStatus")],j.prototype,"onAuthStatusChanged",null),(0,r.gn)([(0,c.RL)("isListen")],j.prototype,"onListenChanged",null),j=(0,r.gn)([(0,c.wA)({name:"Home",components:{VueRecaptcha:v,Navbar:l.Z,SpeechRecognitionComponent:_,MicIcon:P}})],j);var H=j,O=H,$=(0,y.Z)(O,i,n,!1,null,"96cb6bbc",null),E=$.exports},8598:function(t,e,s){function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}s.d(e,{Z:function(){return i}})}}]);